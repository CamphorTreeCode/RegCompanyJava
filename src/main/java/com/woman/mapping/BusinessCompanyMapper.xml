<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.woman.dao.BusinessCompanyMapper">
	<resultMap id="BaseResultMap" type="com.woman.pojo.BusinessCompany">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		<id column="businessCompanyId" property="businessCompanyId" jdbcType="INTEGER" />
		<result column="businessCompanyContent" property="businessCompanyContent" jdbcType="LONGVARCHAR" />
		<result column="businessCompanyName" property="businessCompanyName" jdbcType="VARCHAR" />
		<result column="businessCompanyCapital" property="businessCompanyCapital" jdbcType="FLOAT" />
		<result column="businessCompanyNumber" property="businessCompanyNumber" jdbcType="LONGVARCHAR" />
		<result column="businessCompanyPayTaxes" property="businessCompanyPayTaxes" jdbcType="INTEGER" />
		<result column="businessCompanyCreatDate" property="businessCompanyCreatDate" jdbcType="VARCHAR" />
	    <result column="businessCompanyRange" property="businessCompanyRange" jdbcType="VARCHAR" />
		<result column="businessCompanyRegion" property="businessCompanyRegion" jdbcType="VARCHAR" />
		<result column="businessCompanyIndustry" property="businessCompanyIndustry" jdbcType="VARCHAR" />
		<result column="businessCompanyAccount" property="businessCompanyAccount" jdbcType="INTEGER" />
		<result column="businessCompanyTax" property="businessCompanyTax" jdbcType="INTEGER" />
		<result column="businessCompanyState" property="businessCompanyState" jdbcType="INTEGER" />
		<result column="businessCompanyCreatTime" property="businessCompanyCreatTime" jdbcType="VARCHAR" />
		<result column="businessCompanyBrowse" property="businessCompanyBrowse" jdbcType="INTEGER" />
		<result column="businessCompany" property="businessCompany" jdbcType="INTEGER" />
		<result column="adminId" property="adminId" jdbcType="INTEGER" />
		<result column="businessCompanyTop" property="businessCompanyTop" jdbcType="INTEGER" />
		
 	   <association  property="Admin" javaType="com.woman.pojo.Admin" >  
        <id column="adminId" property="adminId" jdbcType="INTEGER" />
		<result column="adminName" property="adminName" jdbcType="VARCHAR" />
		<result column="adminPassword" property="adminPassword" jdbcType="VARCHAR" />
		<result column="adminCrateTime" property="adminCrateTime" jdbcType="VARCHAR" />
	    <result column="adminImgUrl" property="adminImgUrl" jdbcType="VARCHAR" />
		<result column="adminNickName" property="adminNickName" jdbcType="VARCHAR" />
		<result column="adminPhone" property="adminPhone" jdbcType="VARCHAR" />	
		<result column="adminAction" property="adminAction" jdbcType="VARCHAR" />
		<result column="adminState" property="adminState" jdbcType="INTEGER" />
		</association >  
		 	 <collection  property="companyImg" javaType="java.util.List"  ofType="com.woman.pojo.CompanyImg">  
             		<id column="companyImgId" property="companyImgId" jdbcType="INTEGER" />
		<result column="companyUrl" property="companyUrl" jdbcType="VARCHAR" />
		<result column="companyCreatTime" property="companyCreatTime" jdbcType="VARCHAR" />
		<result column="businessCompanyId" property="businessCompanyId" jdbcType="INTEGER" />
		</collection >  
	</resultMap>
	
		<!-- 查询总记录数 -->
	<select id="selectCount" resultType="Integer" parameterType="Integer">
	select count(businessCompanyId) from BusinessCompany where 1=1
	</select>
	    <!-- 分页查询 -->
	<select id="findByPage" resultMap="BaseResultMap">
			select * from  BusinessCompany bc left join admin a  on bc.adminId = a.adminId left join CompanyImg ci on bc.businessCompanyId=ci.businessCompanyId WHERE 1=1 order by businessCompanyCreatTime desc
			 <if test="start!=null and size!=null">
			LIMIT #{start},#{size}
		</if>
	</select>
</mapper>