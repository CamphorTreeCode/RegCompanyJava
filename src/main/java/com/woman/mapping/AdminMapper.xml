<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.woman.dao.AdminMapper">
	<resultMap id="BaseResultMap" type="com.woman.pojo.Admin">
		<id column="adminId" property="adminId" jdbcType="INTEGER" />
		<result column="adminName" property="adminName" jdbcType="VARCHAR" />
		<result column="adminPassword" property="adminPassword" jdbcType="VARCHAR" />
		<result column="adminCrateTime" property="adminCrateTime" jdbcType="VARCHAR" />
	   <result column="adminImgUrl" property="adminImgUrl" jdbcType="VARCHAR" />
		<result column="adminNickName" property="adminNickName" jdbcType="VARCHAR" />
		<result column="adminPhone" property="adminPhone" jdbcType="VARCHAR" />
	
		<result column="adminAction" property="adminAction" jdbcType="VARCHAR" />
		<result column="adminState" property="adminState" jdbcType="INTEGER" />

	</resultMap>
	<!--查询用户  -->
	<select id="selectAdmin" resultType="com.woman.pojo.Admin">
		select adminId,adminName,adminPassword,adminState from admin where
		adminName=#{adminName,jdbcType=VARCHAR} and
		adminPassword=#{adminPassword,jdbcType=VARCHAR}
	</select>
	<!--增加用户  -->
		<insert id="insertEmployee" parameterType="com.woman.pojo.Admin">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		insert into admin (adminName,adminPassword,adminCrateTime,adminImgUrl,adminNickName,adminPhone,adminAction,adminState) values (#{adminName,jdbcType=VARCHAR}, #{adminPassword,jdbcType=VARCHAR},#{adminCrateTime,jdbcType=VARCHAR},#{adminImgUrl,jdbcType=VARCHAR},#{adminNickName,jdbcType=VARCHAR},#{adminPhone,jdbcType=VARCHAR},#{adminAction,jdbcType=VARCHAR},#{adminState,jdbcType=INTEGER})
	</insert>
	<!-- 修改用户 -->
	   <update id="updateEmployee"  parameterType="com.woman.pojo.Admin" >
     	update admin set adminName = #{adminName,jdbcType=VARCHAR}, adminPassword = #{adminPassword,jdbcType=VARCHAR} 
     	, adminImgUrl = #{adminImgUrl,jdbcType=VARCHAR}, adminNickName = #{adminNickName,jdbcType=VARCHAR}
     	, adminPhone = #{adminPhone,jdbcType=VARCHAR}
     		where adminId = #{adminId,jdbcType=INTEGER}
       </update>
       <!-- 查询单个员工信息 -->
       	  <select id="selectEmployee" resultMap="BaseResultMap" parameterType="Integer">
	     select * from admin where adminId = #{adminId,jdbcType=INTEGER}
	    </select>
	    <!-- 分页查询 -->
	    <select id="selectBypage" resultMap="BaseResultMap">
	     select * from admin
	       where 1=1 and adminState=1

     
		
		order by adminCrateTime desc
		<if test="start!=null and size!=null">
			LIMIT #{start},#{size}
		</if> 
	      
	    </select>
	    
	    <select id="selectCount" resultType="Integer">
	       select count(*) from admin where adminState=1
	    </select>
	    
	    <!-- 删除一个员工 -->
	    
	    <delete id="del">
	       delete from admin where adminId=#{adminid}
	    </delete>
	    
	    <!-- 根据员工名称查询员工 -->
	    
	    <select id="getByAdminname" resultType="String" >
	       select adminName from admin where adminName=#{adminName}
	    </select>
	    
</mapper>